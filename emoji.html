<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Picker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #333;
            color: #fff;
        }
        .chat-container {
            display: flex;
            align-items: center;
            width: 50%;
            max-width: 500px;
        }
        input[type="text"] {
            flex: 1;
            padding: 10px;
            border-radius: 5px;
            border: none;
            background-color: #555;
            color: #fff;
            margin-right: 10px;
        }
        button {
            font-size: 16px;
            padding: 8px 12px;
            border: none;
            background-color: #666;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
        }
        button i {
            color: #fff;
        }
        #emojiPopup {
            display: none;
            position: absolute;
            background: #444;
            border: 1px solid #666;
            padding: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            max-height: 200px;
            overflow-y: auto;
            max-width: 250px;
            text-align: center;
        }
        .emoji-group {
            margin-bottom: 10px; /* Add spacing between emoji groups */
        }
        .emoji {
            cursor: pointer;
            font-size: 24px;
            margin: 5px;
        }
    </style>
</head>
<body>

<div class="chat-container">
    <input type="text" id="chatInput" placeholder="Type your message...">
    <button id="emojiButton"><i class="fas fa-smile"></i></button>
</div>

<div id="emojiPopup">
    <input type="text" id="searchInput" placeholder="Search emoji..."> <button id="XButton"><i class="fas fa-times"></i></button>
    <div id="emojiContainer"></div>
</div>

<script>
    const emojiGroups = [
        {
            title: 'Smileys & Emotion',
            emojis: [
                { emoji: 'ðŸ˜Š', name: 'Smiling Face with Smiling Eyes' },
                { emoji: 'ðŸ˜„', name: 'Grinning Face with Smiling Eyes' },
                { emoji: 'ðŸ˜', name: 'Smiling Face with Heart-Eyes' },
                { emoji: 'ðŸ¥°', name: 'Smiling Face with Hearts' },
                { emoji: 'ðŸ˜Ž', name: 'Smiling Face with Sunglasses' },
                { emoji: 'ðŸ˜‚', name: 'Face with Tears of Joy' },
                { emoji: 'ðŸ¥³', name: 'Partying Face' },
                { emoji: 'ðŸ˜‡', name: 'Smiling Face with Halo' },
                { emoji: 'ðŸ˜˜', name: 'Face Blowing a Kiss' },
                { emoji: 'ðŸ˜‹', name: 'Face Savoring Food' },
                { emoji: 'ðŸ˜œ', name: 'Winking Face with Tongue' },
                { emoji: 'ðŸ˜Œ', name: 'Relieved Face' },
                { emoji: 'ðŸ˜ƒ', name: 'Grinning Face with Big Eyes' },
                { emoji: 'ðŸ˜‰', name: 'Winking Face' },
                { emoji: 'ðŸ˜', name: 'Beaming Face with Smiling Eyes' },
                { emoji: 'ðŸ˜…', name: 'Grinning Face with Sweat' },
                { emoji: 'ðŸ˜†', name: 'Grinning Squinting Face' },
                { emoji: 'ðŸ˜¬', name: 'Grimacing Face' },
                { emoji: 'ðŸ˜®', name: 'Face with Open Mouth' },
                { emoji: 'ðŸ¤©', name: 'Star-Struck' }
            ]
        },
        {
            title: 'Animals & Nature',
            emojis: [
                { emoji: 'ðŸ¶', name: 'Dog Face' },
                { emoji: 'ðŸ±', name: 'Cat Face' },
                { emoji: 'ðŸ¼', name: 'Panda Face' },
                { emoji: 'ðŸ¦', name: 'Lion Face' },
                { emoji: 'ðŸ¯', name: 'Tiger Face' },
                { emoji: 'ðŸ¸', name: 'Frog Face' },
                { emoji: 'ðŸ™', name: 'Octopus' },
                { emoji: 'ðŸ¦„', name: 'Unicorn' },
                { emoji: 'ðŸ', name: 'Honeybee' },
                { emoji: 'ðŸ¢', name: 'Turtle' },
                { emoji: 'ðŸ¬', name: 'Dolphin' },
                { emoji: 'ðŸ¦‹', name: 'Butterfly' },
                { emoji: 'ðŸŒ²', name: 'Evergreen Tree' },
                { emoji: 'ðŸŒ¸', name: 'Cherry Blossom' },
                { emoji: 'ðŸŒˆ', name: 'Rainbow' },
                { emoji: 'ðŸŒŠ', name: 'Water Wave' },
                { emoji: 'ðŸ„', name: 'Mushroom' },
                { emoji: 'ðŸƒ', name: 'Leaf Fluttering in Wind' },
                { emoji: 'ðŸŒ»', name: 'Sunflower' },
                { emoji: 'ðŸŒ¹', name: 'Rose' },
                { emoji: 'ðŸ¦€', name: 'Crab' },
                { emoji: 'ðŸ¦’', name: 'Giraffe' },
                { emoji: 'ðŸ˜', name: 'Elephant' },
                { emoji: 'ðŸ¦Š', name: 'Fox' },
                { emoji: 'ðŸ¦‰', name: 'Owl' }
            ]
        },
        {
            title: 'Food & Drink',
            emojis: [
                { emoji: 'ðŸ•', name: 'Pizza' },
                { emoji: 'ðŸ”', name: 'Hamburger' },
                { emoji: 'ðŸŸ', name: 'French Fries' },
                { emoji: 'ðŸŒ­', name: 'Hot Dog' },
                { emoji: 'ðŸ¥ª', name: 'Sandwich' },
                { emoji: 'ðŸŒ®', name: 'Taco' },
                { emoji: 'ðŸ£', name: 'Sushi' },
                { emoji: 'ðŸ¦', name: 'Ice Cream' },
                { emoji: 'ðŸ°', name: 'Cake' },
                { emoji: 'ðŸ«', name: 'Chocolate Bar' },
                { emoji: 'ðŸ¹', name: 'Tropical Drink' },
                { emoji: 'ðŸº', name: 'Beer Mug' },
                { emoji: 'ðŸ·', name: 'Wine Glass' },
                { emoji: 'ðŸ¥¤', name: 'Cup with Straw' },
                { emoji: 'ðŸ', name: 'Green Apple' },
                { emoji: 'ðŸ“', name: 'Strawberry' },
                { emoji: 'ðŸ¥', name: 'Kiwi Fruit' },
                { emoji: 'ðŸ¥‘', name: 'Avocado' },
                { emoji: 'ðŸ‡', name: 'Grapes' },
                { emoji: 'ðŸ¥', name: 'Croissant' }
            ]
        },
        {
            title: 'Activities',
            emojis: [
                { emoji: 'âš½', name: 'Soccer Ball' },
                { emoji: 'ðŸŽ¾', name: 'Tennis' },
                { emoji: 'ðŸ€', name: 'Basketball' },
                { emoji: 'ðŸˆ', name: 'American Football' },
                { emoji: 'âš¾', name: 'Baseball' },
                { emoji: 'ðŸ', name: 'Volleyball' },
                { emoji: 'ðŸŽ±', name: 'Pool 8 Ball' },
                { emoji: 'ðŸ“', name: 'Ping Pong' },
                { emoji: 'ðŸ¸', name: 'Badminton' },
                { emoji: 'ðŸ’', name: 'Ice Hockey' },
                { emoji: 'ðŸ¥‹', name: 'Martial Arts Uniform' },
                { emoji: 'â›¸', name: 'Ice Skate' },
                { emoji: 'ðŸŽ¤', name: 'Microphone' },
                { emoji: 'ðŸŽ¸', name: 'Guitar' },
                { emoji: 'ðŸŽ®', name: 'Video Game' },
                { emoji: 'ðŸŽ²', name: 'Game Die' },
                { emoji: 'ðŸŽ³', name: 'Bowling' },
                { emoji: 'ðŸŽ­', name: 'Performing Arts' },
                { emoji: 'ðŸš´', name: 'Person Biking' },
                { emoji: 'ðŸŽ¿', name: 'Skis' }
            ]
        },
        {
            title: 'Flags',
            emojis: [
                { emoji: 'ðŸ³ï¸', name: 'White Flag' },
                { emoji: 'ðŸ´', name: 'Black Flag' },
                { emoji: 'ðŸ', name: 'Chequered Flag' },
                { emoji: 'ðŸš©', name: 'Triangular Flag' },
                { emoji: 'ðŸ³ï¸â€ðŸŒˆ', name: 'Rainbow Flag' },
                { emoji: 'ðŸ‡ºðŸ‡¸', name: 'United States Flag' },
                { emoji: 'ðŸ‡¬ðŸ‡§', name: 'United Kingdom Flag' },
                { emoji: 'ðŸ‡©ðŸ‡ª', name: 'Germany Flag' },
                { emoji: 'ðŸ‡«ðŸ‡·', name: 'France Flag' },
                { emoji: 'ðŸ‡ªðŸ‡¸', name: 'Spain Flag' },
                { emoji: 'ðŸ‡®ðŸ‡¹', name: 'Italy Flag' },
                { emoji: 'ðŸ‡¯ðŸ‡µ', name: 'Japan Flag' },
                { emoji: 'ðŸ‡¨ðŸ‡³', name: 'China Flag' },
                { emoji: 'ðŸ‡·ðŸ‡º', name: 'Russia Flag' },
                { emoji: 'ðŸ‡¨ðŸ‡¦', name: 'Canada Flag' },
                { emoji: 'ðŸ‡¦ðŸ‡º', name: 'Australia Flag' },
                { emoji: 'ðŸ‡¦ðŸ‡¹', name: 'Austria Flag' }
            ]
        },
        {
            title: 'Hearts',
            emojis: [
                { emoji: 'â¤ï¸', name: 'Red Heart' },
                { emoji: 'ðŸ’›', name: 'Yellow Heart' },
                { emoji: 'ðŸ’š', name: 'Green Heart' },
                { emoji: 'ðŸ’™', name: 'Blue Heart' },
                { emoji: 'ðŸ’œ', name: 'Purple Heart' },
                { emoji: 'ðŸ–¤', name: 'Black Heart' },
                { emoji: 'ðŸ’”', name: 'Broken Heart' },
                { emoji: 'â£ï¸', name: 'Heart Exclamation' },
                { emoji: 'ðŸ’•', name: 'Two Hearts' },
                { emoji: 'ðŸ’ž', name: 'Revolving Hearts' },
                { emoji: 'ðŸ’“', name: 'Beating Heart' },
                { emoji: 'ðŸ’—', name: 'Growing Heart' },
                { emoji: 'ðŸ’–', name: 'Sparkling Heart' },
                { emoji: 'ðŸ’˜', name: 'Heart with Arrow' },
                { emoji: 'ðŸ’', name: 'Heart with Ribbon' }
            ]
        }
    ];

    const emojiContainer = document.getElementById('emojiContainer');
    const searchInput = document.getElementById('searchInput');
    const emojiPopup = document.getElementById('emojiPopup');
    const emojiButton = document.getElementById('emojiButton');
    const XButton = document.getElementById('XButton');
    const chatInput = document.getElementById('chatInput');

    // Function to generate emoji buttons for a given group
    function generateEmojiButtons(group) {
        const groupContainer = document.createElement('div');
        groupContainer.className = 'emoji-group';
        emojiContainer.appendChild(groupContainer);

        group.emojis.forEach(emojiData => {
            const { emoji, name } = emojiData;
            const emojiButton = document.createElement('span');
            emojiButton.className = 'emoji';
            emojiButton.textContent = emoji;
            emojiButton.title = name;
            emojiButton.onclick = () => selectEmoji(emoji);
            groupContainer.appendChild(emojiButton);
        });
    }

    // Function to filter emojis based on search input
    function filterEmojis(searchTerm) {
        const filteredEmojis = [];
        emojiGroups.forEach(group => {
            group.emojis.forEach(emojiData => {
                const { emoji, name } = emojiData;
                if (emoji.includes(searchTerm) || name.toLowerCase().includes(searchTerm.toLowerCase())) {
                    filteredEmojis.push(emojiData);
                }
            });
        });
        emojiContainer.innerHTML = ''; // Clear previous emojis
        filteredEmojis.forEach(emojiData => {
            const { emoji, name } = emojiData;
            const emojiButton = document.createElement('span');
            emojiButton.className = 'emoji';
            emojiButton.textContent = emoji;
            emojiButton.title = name;
            emojiButton.onclick = () => selectEmoji(emoji);
            emojiContainer.appendChild(emojiButton);
        });
    }

    // Function to position emoji popup above the button
    function positionPopupAboveButton() {
        const rect = emojiButton.getBoundingClientRect();
        const yOffset = window.pageYOffset || document.documentElement.scrollTop;
        emojiPopup.style.display = 'block';
        emojiPopup.style.left = `${rect.left - 100}px`; // Adjust the left position here
        emojiPopup.style.top = `${rect.top + yOffset - emojiPopup.clientHeight}px`;
        searchInput.value = '';
        searchInput.focus();
        filterEmojis('');
    }

    // Event listener for button click to toggle emoji popup
    emojiButton.addEventListener('click', () => {
        if (emojiPopup.style.display === 'block') {
            emojiPopup.style.display = 'none';
        } else {
            positionPopupAboveButton();
        }
    });

    XButton.addEventListener('click', () => {
        emojiPopup.style.display = 'none';
    });

    // Function to select emoji and insert it into the input field
    function selectEmoji(emoji) {
        const start = chatInput.selectionStart;
        const end = chatInput.selectionEnd;
        const textBeforeCursor = chatInput.value.substring(0, start);
        const textAfterCursor = chatInput.value.substring(end);
        const updatedText = textBeforeCursor + emoji + textAfterCursor;

        chatInput.value = updatedText;
        chatInput.selectionStart = chatInput.selectionEnd = start + emoji.length; // Move cursor to after the inserted emoji

        emojiPopup.style.display = 'none'; // Hide emoji popup after selection
    }

    // Event listener for search input
    searchInput.addEventListener('input', () => {
        filterEmojis(searchInput.value.trim());
    });

    // Generate emoji buttons for initial group
    emojiGroups.forEach(group => generateEmojiButtons(group));

    // Recalculate position on window resize
    window.addEventListener('resize', () => {
        if (emojiPopup.style.display === 'block') {
            positionPopupAboveButton();
        }
    });

</script>

</body>
</html>
